{"version":3,"file":"RoomDB.js","sources":["../src/parse.js","../src/AbstractClient.js","../src/terms.js","../src/LocalClient.js","../src/Fact.js","../src/RoomDB.js"],"sourcesContent":["'use strict';\n\nconst ohm = require('ohm-js')\n\nconst grammar = ohm.grammar(`\n  G {\n\n    factOrPattern\n      = term*\n\n    term\n      = id\n      | word\n      | value\n      | variable\n      | wildcard\n      | hole\n\n    id\n      = \"#\" alnum*\n\n    value\n      = keyword<\"true\">   -- true\n      | keyword<\"false\">  -- false\n      | keyword<\"null\">   -- null\n      | number\n      | string\n\n    variable\n      = \"$\" alnum+\n\n    wildcard\n      = \"$\"\n\n    hole\n      = \"_\"\n\n    word\n      = (~special any)+  -- nonspace\n      | space+           -- space\n\n    keyword<k>\n      = k ~alnum\n\n    number\n      = float (\"e\" float)?\n\n    float\n      = integer (\".\" digit+)?\n\n    integer\n      = (\"+\" | \"-\")? digit+\n\n    string\n      = \"\\\\\"\" (~\"\\\\\"\" ~\"\\\\n\" any)* \"\\\\\"\"\n\n    special\n      = id | value | variable | wildcard | hole | space\n\n  }\n`);\n\nconst semantics = grammar.createSemantics().addOperation('parse', {\n  factOrPattern(terms) {\n    return terms.parse();\n  },\n  id(_, cs) {\n    return {id: cs.sourceString};\n  },\n  value_true(_) {\n    return {value: true};\n  },\n  value_false(_) {\n    return {value: false};\n  },\n  value_null(_) {\n    return {value: null};\n  },\n  variable(_, cs) {\n    return {variable: cs.sourceString};\n  },\n  wildcard(_) {\n    return {wildcard: true};\n  },\n  hole(_) {\n    return {hole: true};\n  },\n  word_nonspace(_) {\n    return {word: this.sourceString};\n  },\n  word_space(_) {\n    return {word: ' '};\n  },\n  number(_1, _2, _3) {\n    return {value: parseFloat(this.sourceString)};\n  },\n  string(_oq, cs, _cq) {\n    const chars = [];\n    let idx = 0;\n    cs = cs.parse();\n    while (idx < cs.length) {\n      let c = cs[idx++];\n      if (c === '\\\\' && idx < cs.length) {\n        c = cs[idx++];\n        switch (c) {\n          case 'n': c = '\\n'; break;\n          case 't': c = '\\t'; break;\n          default: idx--;\n        }\n      }\n      chars.push(c);\n    }\n    return {value: chars.join('')};\n  },\n  _terminal() {\n    return this.sourceString;\n  }\n});\n\nexport default function parse(str, optRule) {\n  const rule = optRule || 'factOrPattern';\n  const matchResult = grammar.match(str.trim(), rule);\n  if (matchResult.succeeded()) {\n    return semantics(matchResult).parse();\n  } else {\n    throw new Error(`invalid ${rule}: ${str}`);\n  }\n};\n","'use strict';\n\nimport parse from './parse'\n\nconst MAX_PARSE_CACHE_SIZE = 1000;\n\nexport default class AbstractClient {\n  constructor(id) {\n    this._id = id;\n    this._parseCache = new Map();\n    this._asserts = [];\n    this._retracts = [];\n  }\n\n  assert(factString, ...fillerValues) {\n    const fact = this._toJSONFactOrPattern(factString, ...fillerValues);\n    this._asserts.push(fact);\n  }\n\n  retract(patternString, ...fillerValues) {\n    const pattern = this._toJSONFactOrPattern(patternString, ...fillerValues);\n    this._retracts.push(pattern);\n  }\n\n  async flushChanges() {\n    throw new Error('subclass responsibility');\n  }\n\n  async immediatelyAssert(factString, ...fillerValues) {\n    this.assert(factString, ...fillerValues);\n    await this.flushChanges();\n  }\n\n  async immediatelyRetract(patternString, ...fillerValues) {\n    this.assert(patternString, ...fillerValues);\n    await this.flushChanges();\n  }\n\n  async immediatelyRetractEverythingAbout(name) {\n    throw new Error('subclass responsibility');\n  }\n\n  async immediatelyRetractEverythingAssertedByMe() {\n    throw new Error('subclass responsibility');\n  }\n\n  async getAllFacts() {\n    throw new Error('subclass responsibility');\n  }\n\n  _toJSONFactOrPattern(factOrPatternString, ...fillerValues) {\n    if (arguments.length === 0) {\n      throw new Error('not enough arguments!');\n    }\n    if (typeof factOrPatternString !== 'string') {\n      throw new Error('factOrPatternString must be a string!');\n    }\n    let terms = this._parse(factOrPatternString);\n    if (fillerValues.length > 0) {\n      terms = terms.slice();\n    }\n    for (let idx = 0; idx < terms.length; idx++) {\n      const term = terms[idx];\n      if (term.hasOwnProperty('hole')) {\n        if (fillerValues.length === 0) {\n          throw new Error('not enough filler values!');\n        }\n        terms[idx] = this._toJSONTerm(fillerValues.shift());\n      }\n    }\n    if (fillerValues.length > 0) {\n      throw new Error('too many filler values!');\n    }\n    return terms;\n  }\n\n  _toJSONTerm(value) {\n    return {value: value};\n  }\n\n  _parse(factOrPatternString) {\n    if (this._parseCache.has(factOrPatternString)) {\n      return this._parseCache.get(factOrPatternString);\n    } else {\n      this._clearParseCacheIfTooBig();\n      const terms = parse(factOrPatternString);\n      this._parseCache.set(factOrPatternString, terms);\n      return terms;\n    }\n  }\n\n  _clearParseCacheIfTooBig() {\n    if (this._parseCache.size > MAX_PARSE_CACHE_SIZE) {\n      this.clearParseCache();\n    }\n  }\n\n  clearParseCache() {\n    this._parseCache.clear();\n  }\n}\n","'use strict';\n\nclass Term {\n  toString() {\n    throw new Error('subclass responsibility');\n  }\n\n  toJSON() {\n    throw new Error('subclass responsibility');\n  }\n\n  toRawValue() {\n    throw new Error('subclass responsibility');\n  }\n\n  match(that, env) {\n    throw new Error('subclass responsibility');\n  }\n}\n\nTerm.fromJSON = json => {\n  if (json.hasOwnProperty('id')) {\n    return new Id(json.id);\n  } else if (json.hasOwnProperty('word')) {\n    return new Word(json.word);\n  } else if (json.hasOwnProperty('value')) {\n    return new Value(json.value);\n  } else if (json.hasOwnProperty('blobRef')) {\n    return new BlobRef(json.blobRef);\n  } else if (json.hasOwnProperty('variable')) {\n    return new Variable(json.variable);\n  } else if (json.hasOwnProperty('wildcard')) {\n    return new Wildcard();\n  } else if (json.hasOwnProperty('hole')) {\n    return new Hole();\n  } else {\n    throw new Error('unrecognized JSON term: ' + JSON.stringify(json));\n  }\n};\n\nclass Id extends Term {\n  constructor(name) {\n    super();\n    this.name = name;\n  }\n\n  toString() {\n    return '#' + this.name;\n  }\n\n  toJSON() {\n    return {id: this.name};\n  }\n\n  toRawValue() {\n    return this;\n  }\n\n  match(that, env) {\n    return that instanceof Id && this.name === that.name ?\n        env :\n        null;\n  }\n}\n\nclass Word extends Term {\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n\n  toString() {\n    return this.value;\n  }\n\n  toJSON() {\n    return {word: this.value};\n  }\n\n  toRawValue() {\n    return this;\n  }\n\n  match(that, env) {\n    return that instanceof Word && this.value === that.value ?\n        env :\n        null;\n  }\n}\n\nclass Value extends Term {\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n\n  toString() {\n    return JSON.stringify(this.value);\n  }\n\n  toJSON() {\n    return {value: this.value};\n  }\n\n  toRawValue() {\n    return this.value;\n  }\n\n  match(that, env) {\n    return that instanceof Value && this.value === that.value ?\n        env :\n        null;\n  }\n}\n\nclass BlobRef extends Term {\n  constructor(id) {\n    super();\n    this.id = id;\n  }\n\n  toString() {\n    return '@' + this.id;\n  }\n\n  toJSON() {\n    return {blobRef: this.id};\n  }\n\n  toRawValue() {\n    return this;\n  }\n\n  match(that, env) {\n    return that instanceof BlobRef && this.id === that.id ?\n        env :\n        null;\n  }\n}\n\nclass Variable extends Term {\n  constructor(name) {\n    super();\n    this.name = name;\n  }\n\n  toString() {\n    return '$' + this.name;\n  }\n\n  toJSON() {\n    return {variable: this.name};\n  }\n\n  toRawValue() {\n    throw new Error('Variable\\'s toRawValue() should never be called!');\n  }\n\n  match(that, env) {\n    if (env[this.name] === undefined) {\n      env[this.name] = that;\n      return env;\n    } else {\n      return env[this.name].match(that, env);\n    }\n  }\n}\n\nclass Wildcard extends Term {\n  constructor() {\n    super();\n    // no-op\n  }\n\n  toString() {\n    return '$';\n  }\n\n  toJSON() {\n    return {wildcard: true};\n  }\n\n  toRawValue() {\n    throw new Error('Wildcard\\'s toRawValue() should never be called!');\n  }\n\n  match(that, env) {\n    return env;\n  }\n}\n\nclass Hole extends Term {\n  constructor() {\n    super();\n    // no-op\n  }\n\n  toString() {\n    return '_';\n  }\n\n  toJSON() {\n    return {hole: true};\n  }\n\n  toRawValue() {\n    throw new Error('Hole\\'s toRawValue() should never be called!');\n  }\n\n  match(that, env) {\n    throw new Error('Hole\\'s match() should never be called!');\n  }\n}\n\nexport {\n  Term,\n  Id,\n  Word,\n  Value,\n  BlobRef,\n  Variable,\n  Wildcard,\n  Hole\n}\n","'use strict';\n\nimport AbstractClient from './AbstractClient'\nimport {Term} from './terms'\n\nexport default class LocalClient extends AbstractClient {\n  constructor(db, id) {\n    super(id);\n    this._db = db;\n  }\n\n  select(...patternStrings) {\n    const patterns = patternStrings.map(p =>\n      p instanceof Array ?\n          this._toJSONFactOrPattern(...p) :\n          this._toJSONFactOrPattern(p));\n    const solutions = this._db.select(...patterns);\n    const results = {\n      async doAll(callbackFn) {\n        await callbackFn(solutions);\n        return results;\n      },\n      async do(callbackFn) {\n        for (let solution of solutions) {\n          for (let name in solution) {\n            // force serialization and deserialization to simulate going over the network\n            const json = JSON.parse(JSON.stringify(solution[name]));\n            solution[name] = Term.fromJSON(json).toRawValue();\n          }\n          await callbackFn(solution);\n        }\n        return results;\n      },\n      async count() {\n        return solutions.length;\n      },\n      async isEmpty() {\n        return solutions.length === 0;\n      },\n      async isNotEmpty() {\n        return solutions.length > 0;\n      }\n    };\n    return results;\n  }\n\n  async flushChanges() {\n    this._retracts.forEach(pattern => this._db.retract(this._id, pattern));\n    this._retracts = [];\n    this._asserts.forEach(fact => this._db.assert(this._id, fact));\n    this._asserts = [];\n  }\n\n  async immediatelyRetractEverythingAbout(name) {\n    return this._db.retractEverythingAbout(this._id, name);\n  }\n\n  async immediatelyRetractEverythingAssertedByMe() {\n    return this._db.retractEverythingAssertedBy(this._id);\n  }\n\n  async getAllFacts() {\n    return this._db.getAllFacts();\n  }\n\n  toString() {\n    return `[LocalClient ${this._id}]`;\n  }\n}\n\nmodule.exports = LocalClient;\n","'use strict';\n\nimport {Term, Variable, Wildcard} from './terms'\n\nclass Fact {\n  constructor(terms) {\n    this.terms = terms;\n  }\n\n  hasVariablesOrWildcards() {\n    return this.terms.some(term =>\n        term instanceof Variable ||\n        term instanceof Wildcard);\n  }\n\n  match(that, env) {\n    if (this.terms.length !== that.terms.length) {\n      return null;\n    }\n    for (let idx = 0; idx < this.terms.length; idx++) {\n      const thisTerm = this.terms[idx];\n      const thatTerm = that.terms[idx];\n      if (!thisTerm.match(thatTerm, env)) {\n        return null;\n      }\n    }\n    return env;\n  }\n\n  toString() {\n    return this.terms.map(term => term.toString()).join('');\n  }\n}\n\nFact.fromJSON =\n    jsonTerms => new Fact(jsonTerms.map(jsonTerm => Term.fromJSON(jsonTerm)));\n\nexport default Fact\n","'use strict';\n\nimport LocalClient from './LocalClient'\nimport {Id} from './terms'\nimport Fact from './Fact'\n\nfunction flatten(obj) {\n  for (let prop in obj) {\n    obj[prop] = obj[prop];\n  }\n  return obj;\n}\n\nexport default class RoomDB {\n  constructor() {\n    this._factMap = new Map();\n  }\n\n  select(...jsonPatterns) {\n    const patterns = jsonPatterns.map(jsonPattern => Fact.fromJSON(jsonPattern));\n    const solutions = [];\n    this._collectSolutions(patterns, Object.create(null), solutions);\n    return solutions.map(flatten);\n  }\n\n  _collectSolutions(patterns, env, solutions) {\n    if (patterns.length === 0) {\n      solutions.push(env);\n    } else {\n      const pattern = patterns[0];\n      for (let fact of this._facts) {\n        const newEnv = Object.create(env);\n        if (pattern.match(fact, newEnv)) {\n          this._collectSolutions(patterns.slice(1), newEnv, solutions);\n        }\n      }\n    }\n  }\n\n  assert(clientId, factJSON) {\n    const fact = Fact.fromJSON(factJSON);\n    if (fact.hasVariablesOrWildcards()) {\n      throw new Error('cannot assert a fact that has variables or wildcards!');\n    }\n    fact.asserter = clientId;\n    this._factMap.set(fact.toString(), fact);\n  }\n\n  retract(clientId, factJSON) {\n    const pattern = Fact.fromJSON(factJSON);\n    if (pattern.hasVariablesOrWildcards()) {\n      const factsToRetract =\n          this._facts.filter(fact => pattern.match(fact, Object.create(null)));\n      factsToRetract.forEach(fact => this._factMap.delete(fact.toString()));\n      return factsToRetract.length;\n    } else {\n      return this._factMap.delete(pattern.toString()) ? 1 : 0;\n    }\n  }\n\n  retractEverythingAbout(clientId, name) {\n    const id = new Id(name);\n    const emptyEnv = Object.create(null);\n    const factsToRetract =\n        this._facts.filter(fact => fact.terms.some(term => id.match(term, emptyEnv)));\n    factsToRetract.forEach(fact => this._factMap.delete(fact.toString()));\n    return factsToRetract.length;\n  }\n\n  retractEverythingAssertedBy(clientId) {\n    const factsToRetract = this._facts.filter(fact => fact.asserter === clientId);\n    factsToRetract.forEach(fact => this._factMap.delete(fact.toString()));\n    return factsToRetract.length;\n  }\n\n  get _facts() {\n    return Array.from(this._factMap.values());\n  }\n\n  getAllFacts() {\n    return this._facts.map(fact => fact.toString());\n  }\n\n  toString() {\n    return this._facts.map(fact => '<' + fact.asserter + '> ' + fact.toString()).join('\\n');\n  }\n\n  client(id = 'local-client') {\n    return new LocalClient(this, id);\n  }\n}\n"],"names":[],"mappings":"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"}